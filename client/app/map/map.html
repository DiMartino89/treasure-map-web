<div ng-include="'components/navbar/navbar.html'"></div>

<div class="map">
  <ui-gmap-google-map center='map.center' zoom='map.zoom' options='options'>

  	<ui-gmap-markers models='locations' idKey="'_id'" coords="'coordinates'" doCluster='true' icon="'icon'">

  		<ui-gmap-windows show="show">
        <div ng-non-bindable>
          <a href='/locations/{{link}}'>
            <strong>{{title}}</strong>
            <p>{{street}}<br/>{{zipcode}} {{city}}</p>
          </a>
          <p>Duration {{duration}}h</p>
          <a href='/categories/{{id}}'><i>{{category}}</i></a>
        </div>
      </ui-gmap-windows>

  	</ui-gmap-markers>

    <ui-gmap-marker coords="userLocation" idkey="1"></ui-gmap-marker>
    <ui-gmap-circle center="userLocation" radius="searchRadius * 1000"></ui-gmap-circle>

  </ui-gmap-google-map>

  <form class="form-inline searchRadius">
    <div class="form-group">
      <label class="sr-only" for="searchRadius">Search Radius (in km)</label>

      <div class="input-group">
        <div class="input-group-addon">Search Radius (in km)</div>
        <input ng-model="searchRadius" type="number" name="searchRadius" class="form-control"
               placeholder="Search Radius" min="1" max="100" step="1" ng-change="getLocations(userLocation, searchRadius)">
      </div>
    </div>
  </form>


</div>
