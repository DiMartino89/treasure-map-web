<div ng-include="'components/navbar/navbar.html'"></div>

<div class="container">

  <alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">{{alert.msg}}</alert>

  <form class="form" name="form" novalidate>

    <div class="form-group" ng-class="{ 'has-success': form.name.$valid && submitted,
                                            'has-error': form.name.$invalid && submitted }">
      <label>Name</label>

      <input type="text" name="name" class="form-control" ng-model="newLocation.name"
             required/>

      <p class="help-block" ng-show="form.name.$error.required && submitted">
        Name required
      </p>
    </div>

    <div>
    </div>

    <div class="form-group" ng-class="{ 'has-success': form.category.$valid && submitted,
                                            'has-error': form.category.$invalid && submitted }">
      <label>Category</label>

      <div class="btn-group">
        <label ng-repeat="c in categories"
               name="category"
               class="btn btn-primary"
               ng-model="newLocation.details.category"
               btn-radio="'{{c._id}}'"
               required>{{c.name}}</label>

        <p class="help-block" ng-show="form.category.$error.required && submitted">
          Category required
        </p>
      </div>
    </div>

    <div class="form-group" ng-class="{ 'has-success': form.duration.$valid && submitted,
                                            'has-error': form.duration.$invalid && submitted }">
      <label>Duration</label>

      <input type="text" name="duration" class="form-control" ng-model="newLocation.duration"
             required/>

      <p class="help-block" ng-show="form.duration.$error.required && submitted">
        Duration required
      </p>
    </div>

    <div class="form-group" ng-class="{ 'has-success': form.street.$valid && submitted,
                                            'has-error': form.street.$invalid && submitted }">
      <label>Street</label>

      <input type="address" name="street" class="form-control" ng-model="newLocation.address.street"
             required
             mongoose-error/>

      <p class="help-block" ng-show="form.street.$error.required && submitted">
        Street required
      </p>

      <p class="help-block" ng-show="form.street.$error.mongoose">
        {{ errors.street }}
      </p>
    </div>

    <div class="row">
      <div class="form-group col-md-6" ng-class="{ 'has-success': form.city.$valid && submitted,
                                                'has-error': form.city.$invalid && submitted }">
        <label>City</label>

        <input type="address" name="city" class="form-control" ng-model="newLocation.address.city"
               required
               mongoose-error/>

        <p class="help-block" ng-show="form.city.$error.required && submitted">
          City required
        </p>

        <p class="help-block" ng-show="form.city.$error.mongoose">
          {{ errors.city }}
        </p>
      </div>

      <div class="form-group col-md-6" ng-class="{ 'has-success': form.zipcode.$valid && submitted,
                                                'has-error': form.zipcode.$invalid && submitted }">
        <label>Zipcode</label>

        <input type="address" name="zipcode" class="form-control" ng-model="newLocation.address.zipcode"
               required
               mongoose-error/>

        <p class="help-block" ng-show="form.zipcode.$error.required && submitted">
          Zipcode required
        </p>

        <p class="help-block" ng-show="form.zipcode.$error.mongoose">
          {{ errors.zipcode }}
        </p>
      </div>

    </div>

    <div>
      <button class="btn btn-primary btn-lg" type="submit" ng-click="addLocation()">
        Submit
      </button>
    </div>

  </form>

</div>
